# useState 只有在组件的首次渲染时，执行

- 点击前： Child的console打印：`[]`

![image](https://user-images.githubusercontent.com/74364990/233003245-1954502f-0fcf-4bfc-9030-12be8f880f66.png)


- 点击后： Child的console仍打印：`[]`

![image](https://user-images.githubusercontent.com/74364990/233003421-5944302a-bc85-4f52-85b0-d599b3ea10af.png)



```js
const Child = (props) => {
  const { childList } = props;
  const [selectList, setSelectList] = useState(childList); 
  console.log(selectList);
  return <div>213{childList}</div>;
};

const Parent = () => {
  const [dataList, setDataList] = useState([]);
  const handle = () => {
    setDataList([1, 2, 3]);
  };
  
  return (
    <>
      <button onClick={handle}>button</button>
      <Child childList={dataList} />
    </>
  );
};
```
 
分析：在React中，当组件的props或state发生改变时，组件会重新渲染。在这个例子中，点击button后，Parent组件的state发生了改变，导致Parent组件和Child组件都需要被重新渲染。然而，由于useState是一个Hook，它只会在组件初次渲染时执行一次，而不是每次组件重新渲染时都执行。因此，即使Child组件重新渲染了，useState也不会重新执行，所以打印出来的selectList仍然是旧值，而不是新值。(即：`const [selectList, setSelectList] = useState(childList)并没有重新执行`)

